// run_tello_slam.cpp

/////////////////////////
// IONLAB ISAE-SUPAERO //
// TELLO SLAM PROJECT  //
/////////////////////////

// 2024 MAR 11
// Wonhee LEE

// reference: slambook
// https://textfancy.com/text-art/


// #include <easy/profiler.h>

#include "system.h"

using namespace tello_slam;


int main(int argc, char **argv)
{
    std::string configuration_file_path = "./config/system_config.yaml";

    System::Ptr system(new System(configuration_file_path));
    assert(system->initialize() == true);
    
    std::cout << "\n"
    << " ________          __ __                                  ______  __        ______  __       __ \n"
    << "|        \\        |  \\  \\                                /      \\|  \\      /      \\|  \\     /  \\ \n"
    << " \\▓▓▓▓▓▓▓▓ ______ | ▓▓ ▓▓__    __  _______  ______      |  ▓▓▓▓▓▓\\ ▓▓     |  ▓▓▓▓▓▓\\ ▓▓\\   /  ▓▓ \n"
    << "   | ▓▓   /      \\| ▓▓ ▓▓  \\  |  \\/       \\/      \\     | ▓▓___\\▓▓ ▓▓     | ▓▓__| ▓▓ ▓▓▓\\ /  ▓▓▓ \n"
    << "   | ▓▓  |  ▓▓▓▓▓▓\\ ▓▓ ▓▓ ▓▓  | ▓▓  ▓▓▓▓▓▓▓  ▓▓▓▓▓▓\\     \\▓▓    \\| ▓▓     | ▓▓    ▓▓ ▓▓▓▓\\  ▓▓▓▓ \n"
    << "   | ▓▓  | ▓▓    ▓▓ ▓▓ ▓▓ ▓▓  | ▓▓ ▓▓     | ▓▓  | ▓▓     _\\▓▓▓▓▓▓\\ ▓▓     | ▓▓▓▓▓▓▓▓ ▓▓\\▓▓ ▓▓ ▓▓ \n"
    << "   | ▓▓  | ▓▓▓▓▓▓▓▓ ▓▓ ▓▓ ▓▓__/ ▓▓ ▓▓_____| ▓▓__/ ▓▓    |  \\__| ▓▓ ▓▓_____| ▓▓  | ▓▓ ▓▓ \\▓▓▓| ▓▓ \n"
    << "   | ▓▓   \\▓▓     \\ ▓▓ ▓▓\\▓▓    ▓▓\\▓▓      \\▓▓    ▓▓     \\▓▓    ▓▓ ▓▓     \\ ▓▓  | ▓▓ ▓▓  \\▓ | ▓▓ \n"
    << "    \\▓▓    \\▓▓▓▓▓▓▓\\▓▓\\▓▓ \\▓▓▓▓▓▓  \\▓▓▓▓▓▓▓ \\▓▓▓▓▓▓       \\▓▓▓▓▓▓ \\▓▓▓▓▓▓▓▓\\▓▓   \\▓▓\\▓▓      \\▓▓" << std::endl;

    std::cout << "\n"
    << "  __             __    __                    __  __        __                  __   __  __ \n"      
    << "|/  \\|\\ ||   /\\ |__)oo|  \\ _ _  _  _ oo\\  /|(_ |/  \\|\\ |  |__) _ _ o _  _ |_    _) /  \\  _) |__| \n"
    << "|\\__/| \\||__/--\\|__)oo|__/| (_)| )(-`oo \\/ |__)|\\__/| \\|  |   | (_)|(-`(_ |_   /__ \\__/ /__    | \n"
    << "                                                                   /" << std::endl;

    system->run();

    return 0;
}
